<!DOCTYPE html><html lang="pt-br"><head><meta charset="UTF-8"/><title>Dashboard Analítico – poc-task-manager-herooffer-ghc</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>body{font-family:system-ui,Arial,sans-serif;margin:20px;color:#222;}h1{margin-top:0}section{margin-bottom:32px}code{background:#f5f5f5;padding:2px 4px;border-radius:4px;font-size:0.9em} .kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin:16px 0;} .kpi{border:1px solid #ddd;padding:12px;border-radius:8px;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.05);} .kpi h3{margin:0 0 4px;font-size:14px;text-transform:uppercase;color:#555;} .kpi .val{font-size:24px;font-weight:600;} .trendUp{color:#0a0;} .trendDown{color:#c00;} canvas{max-width:100%;} footer{margin-top:40px;font-size:12px;color:#666;} table{border-collapse:collapse;width:100%;} th,td{border:1px solid #ddd;padding:6px;text-align:left;} th{background:#fafafa;} .sev-critical{color:#b30000;font-weight:600;} .sev-high{color:#d32;} .sev-medium{color:#c60;} .sev-low{color:#06c;} .sev-note{color:#555;} .badge{display:inline-block;padding:2px 6px;border-radius:4px;font-size:12px;background:#eee;margin-right:4px;} </style>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" integrity="sha256-VnoxJqGQvYVz45hD9KsGJ6JrXmefNJmkavRKu0kUQws=" crossorigin="anonymous"></script>
</head><body>
<h1>Dashboard Analítico – poc-task-manager-herooffer-ghc</h1>
<p>Branch de referência de cobertura: <strong>master</strong></p>

<section>
  <h2>KPIs Principais</h2>
  <div class="kpi-grid">
    <div class="kpi"><h3>Coverage Média</h3><div class="val">0.00%</div></div>
    <div class="kpi"><h3>Delta Último Ponto</h3><div class="val trendUp">+0.00%</div></div>
    <div class="kpi"><h3>Diff Coverage (Último)</h3><div class="val">n/a</div></div>
    <div class="kpi"><h3>Alertas de Segurança Abertos</h3><div class="val">24</div></div>
    <div class="kpi"><h3>Duração Média Pipeline</h3><div class="val">188.6s</div></div>
    <div class="kpi"><h3>p95 Duração</h3><div class="val">372s</div></div>
    <div class="kpi"><h3>Índice Composto de Risco</h3><div class="val">10</div></div>
  </div>
</section>

<section>
  <h2>Distribuição de Severidade (Alertas Abertos)</h2>
  <table><thead><tr><th>Severidade</th><th>Quantidade</th></tr></thead><tbody>
    <tr><td class="sev-critical">critical</td><td>0</td></tr><tr><td class="sev-high">high</td><td>0</td></tr><tr><td class="sev-medium">medium</td><td>0</td></tr><tr><td class="sev-low">low</td><td>0</td></tr><tr><td class="sev-note">note</td><td>1</td></tr><tr><td class="sev-unknown">unknown</td><td>23</td></tr>
  </tbody></table>
</section>

<section>
  <h2>Histórico de Cobertura</h2>
  <canvas id="coverageChart" height="120"></canvas>
</section>

<section>
  <h2>Fonte de Dados</h2>
  <ul>
    <li>Histórico: branch <code>badges</code> (arquivos JSON em <code>badges/history</code>).</li>
    <li>Alertas: API Code Scanning (open state).</li>
    <li>Performance: Últimos 15 runs do workflow "Orchestrator Pipeline".</li>
  </ul>
</section>

<footer>Gerado em 2025-10-10T06:28:11.442Z • Atualize o pipeline para números mais recentes.</footer>
<script>
  const coverageHist = [];
  const labels = coverageHist.map(p=> new Date(p.t*1000).toLocaleDateString());
  const data = coverageHist.map(p=> parseFloat(p.avg));
  if (coverageHist.length) {
    new Chart(document.getElementById('coverageChart'), {
      type: 'line', data: { labels, datasets: [{ label: 'Coverage %', data, borderColor:'#2563eb', backgroundColor:'rgba(37,99,235,0.1)', tension:.25, fill:true }]},
      options: { scales: { y: { beginAtZero:true, suggestedMax:100 } }, plugins:{legend:{display:true}} }
    });
  }
</script>
</body></html>